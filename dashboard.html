<!DOCTYPE html>
<html lang="fa">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>EcoStyle</title>
		<link rel="stylesheet" href="css/load.css" />
		<link rel="stylesheet" href="css/root.css" />
		<link rel="stylesheet" href="css/swiper.css" />
		<link rel="stylesheet" href="css/home.css" />
		<link rel="stylesheet" href="css/about.css" />
		<link rel="stylesheet" href="css/navebar.css" />
		<link rel="stylesheet" href="css/contactUs.css" />
		<link rel="stylesheet" href="css/ProductCards.css" />
		<link rel="stylesheet" href="css/category.css" />
		<link rel="stylesheet" href="css/basket.css" />
		<link rel="stylesheet" href="css/footer.css" />
		<link rel="stylesheet" href="css/productPage.css" />
		<link rel="stylesheet" href="css/shopPage.css" />
		<link rel="stylesheet" href="css/loginPage.css" />
		<link
			rel="stylesheet"
			href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />
		<script
			src="https://kit.fontawesome.com/a052ba504f.js"
			crossorigin="anonymous"></script>
	</head>
	<style>
		.dashboard-container {
			max-width: 500px;
			margin: 10px auto 10px auto;

			padding: 20px;
			border: 1px solid #ccc;
			border-radius: 10px;
			background-color: #f9f9f9;
		}

		h1 {
			text-align: center;
		}

		.user-info p {
			font-size: 1.1em;
			margin: 10px 0;
		}
	</style>
	<body>
		<!-- پنجره پاپ‌آپ فرم‌های ورود و ثبت‌نام -->
		<div class="loginbg" id="loginBackground">
			<div id="login"></div>
		</div>
		<div class="loginbg" id="signupBackground">
			<div id="signup"></div>
		</div>
		<div class="logo-mobile">
			<div>
				<h1 class="no-select" onclick="home()">EcoStyle</h1>
			</div>
		</div>
		<header class="bgCover">
			<div class="lag">
				<div class="language-buttons">
					<button onclick="changeLanguage('fa')">fa</button>
					<button onclick="changeLanguage('en')">English</button>
					<button href="" id="showLoginButton">LOGIN</button>
				</div>
				<div class="search-cart">
					<button class="search-button">
						<i class="fas fa-search"></i>
					</button>
					<button id="basket-icon">
						<i class="fa-solid fa-basket-shopping"></i>
						<span id="basket-count">0</span>
					</button>
					<button href="" id="profileButton">
						<i class="fa-solid fa-user"></i>
					</button>
				</div>

				<!-- پاپ‌آپ سبد خرید -->
				<div id="basket-popup" class="basket-popup" style="display: none">
					<h3>Your Basket</h3>
					<div id="basket-items"></div>
					<p>Total: $<span id="total-price">0.00</span></p>
					<button id="close-basket">Close</button>
				</div>
			</div>
			<nav id="navbarMain"></nav>
		</header>

		<section>
			<div class="dashboard-container">
				<h1>داشبورد کاربر</h1>
				<div class="user-info">
					<p><strong>نام کاربری:</strong> <span id="username"></span></p>
					<p><strong>نام:</strong> <span id="firstName"></span></p>
					<p><strong>نام خانوادگی:</strong> <span id="lastName"></span></p>
					<p><strong>سن:</strong> <span id="age"></span></p>
				</div>
				<button id="logoutButton">خروج</button>
			</div>
			<script src="jsComPages/jsComponent/dashboard.js"></script>
			<div id="contactPage"></div>
			<div id="aboutSction"></div>
		</section>
		<footer id="footer"></footer>
		<!-- js -->
		<script src="jsComPages/jsComponent/api.js"></script>
		<script src="jsComPages/jsComponent/load.js"></script>
		<script src="jsComPages/jsComponent/basket.js"></script>
		<script src="jsComPages/jsComponent/lang.js"></script>
		<script src="jsComPages/jsComponent/navBar.js"></script>
		<script src="jsComPages/home.js"></script>
		<script src="jsComPages/about.js"></script>
		<script src="jsComPages/contactUs.js"></script>
		<script src="jsComPages/shopPage.js"></script>
		<script src="jsComPages/jsComponent/loginPage.js"></script>
		<script src="jsComPages/jsComponent/footer.js"></script>
		<script src="jsComPages/jsComponent/swiper.js"></script>
		<script src="jsComPages/jsComponent/category.js"></script>
		<script src="jsComPages/jsComponent/productCards.js"></script>
		<script src="jsComPages/jsComponent/productPages.js"></script>
		<script>
			document.addEventListener("DOMContentLoaded", () => {
				const cookies = document.cookie.split("; ").reduce((acc, cookie) => {
					const [key, value] = cookie.split("=");
					acc[key] = value;
					return acc;
				}, {});

				document.getElementById("username").textContent =
					cookies.username || "نامشخص";
				document.getElementById("firstName").textContent =
					cookies.firstName || "نامشخص";
				document.getElementById("lastName").textContent =
					cookies.lastName || "نامشخص";
				document.getElementById("age").textContent = cookies.age || "نامشخص";

				document
					.getElementById("logoutButton")
					.addEventListener("click", () => {
						document.cookie = "username=; max-age=0; path=/";
						document.cookie = "firstName=; max-age=0; path=/";
						document.cookie = "lastName=; max-age=0; path=/";
						document.cookie = "age=; max-age=0; path=/";
						window.location.href = "/EcoStyle/index.html";
					});
			});
		</script>
	</body>
</html>
